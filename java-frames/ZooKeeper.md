### 名字来源
起初雅虎项目都以动物来命名，整个分布式系统看上去就像一个大型的动物园一样，而Zookeeper正好要用来进行分布式环境的协调，所以ZooKeeper这个名字就诞生了。

### ZooKeeper相关概念
ZooKeeper 的设计目标是将那些复杂且容易出错的分布式一致性服务封装起来，构成一个高效可靠的原语集，并以一系列简单易用的接口提供给用户使用。  

ZooKeeper 是一个典型的分布式数据一致性解决方案，分布式应用程序可以基于 ZooKeeper 实现诸如数据发布/订阅、负载均衡、
命名服务、分布式协调/通知、集群管理、Master 选举、分布式锁和分布式队列等功能。  

Zookeeper 一个最常用的使用场景就是用于担任服务生产者和服务消费者的注册中心(提供发布订阅服务)，Dubbo就是用ZooKeeper来作为服务发现与注册中心，
如下图所示：  

![image](https://github.com/islongfei/Blog/blob/master/images/ZooKeeper%E5%8E%9F%E7%90%86.jpg)

为什么最好使用奇数台服务器构成 ZooKeeper 集群？  

由于ZooKeeper半数以上节点存活ZooKeeper 就能正常服务的机制，所以使用奇数台服务器，更省资源。比如部署4台服务器，要正常服务，只允许挂掉1台，用3台也只允许挂掉1台，那么为什么不去节省资源使用3台服务器达到同样的效果呢。  


### 相关机制
* ZooKeeper 本身就是一个分布式程序，只要半数以上节点存活，ZooKeeper 就能正常服务。  

* ZooKeeper 将数据保存在内存中，这也就保证了 高吞吐量和低延迟。但是内存限制了能够存储的容量不太大，这也是znode中存储的数据量较小的原因。  

* ZooKeeper 是高性能的。 在读多写少的场景中性能最好，因为“写”会使所有的服务器去同步状态。  

* 临时节点：当创建临时节点的客户端会话一直保持活动，临时节点就一直存在，当会话终结时，瞬时节点也会被删除。  

* 持久节点：指一旦这个ZNode被创建了，除非主动进行ZNode的移除操作，否则这个节点将一直保存在Zookeeper上。  

* ZooKeeper 底层其实只提供了两个功能：①管理（存储、读取）用户程序提交的数据；②为用户程序提供数据节点监听服务。
