### CQRS 由来
对于系统的 CRUD 操作经常用到的解决方案就是对数据库进行读写分离。
让主数据库处理事务性的增、删、改操作，让从数据库处理查询操作，然后主从数据库之间进行同步。

但是这只是从DB角度处理了读写分离，从业务或者系统层面上来说，读和写的逻辑仍然是存放在一起的，他们都是操作同一个实体对象。这时就需要业务上的读写分离，
`CQRS（Command Query Responsibility Segration）`就由此而来。  


### CQRS 原理
CQRS 就是一个系统，从架构上把 CRUD 系统拆分为两部分：命令（Command）处理和查询（Query）处理。其中命令处理包括增、删、改。  

然后命令与查询两边可以用不同的架构实现，以实现 CQ 两端（即Command Side，简称C端；Query Side，简称Q端）的分别优化。  

**实现方式**：  
1. CQ 两端数据库共享，只是在上层代码上分离。  
好处：代码读写分离，更容易维护，而且不存在 CQ 两端的数据一致性问题。  

2. CQ 两端不仅代码分离，数据库也分离，然后Q端数据由C端同步过来。  
同步方式有两种：同步或异步，如果需要 CQ 两端的强一致性，则需要用同步；如果能接受 CQ 两端数据的最终一致性，则可以使用异步。
