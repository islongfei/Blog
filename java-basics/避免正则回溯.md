正则回溯会降低系统性能，大量的回溯会长时间地占用 CPU，导致系统变慢。

目前实现**正则表达式引擎**的方式有两种：

* `DFA 自动机`（Deterministic Final Automata 确定有限状态自动机）
* `NFA 自动机`（Non deterministic Finite Automaton 非确定有限状态自动机）

构造 DFA 自动机的代价远大于 NFA 自动机，但 DFA 自动机的执行效率高于 NFA 自动机。

### NFA 自动机的回溯 

用 NFA 自动机实现的比较复杂的正则表达式，在匹配过程中经常会引起回溯问题（由于贪婪模式）。大量的回溯会长时间地占用 CPU，从而带来系统性能开销。  

举个通俗的例子

回溯就比如，食堂吃饭，你一下拿了3个馒头。吃完两个，发现第三个不是你想吃的口味的时候，又把第三个放回去，这就造成了资源浪费。  


### 解决办法
* 懒惰模式：在该模式下，正则表达式会尽可能少地重复匹配字符。如果匹配成功，它会继续匹配剩余的字符串。
* 独占模式：同贪婪模式一样，独占模式一样会最大限度地匹配更多内容；不同的是，在独占模式下，匹配失败就会结束匹配，不会发生回溯问题。
